---
title: "p8105_hw2_ao2965"
author: "Alissa Shams Orchi"
date: "2025-09-30"
output: github_document
---
Question 2
Importing Trashwheel and modifying Mr.Trash Wheel sheet

```{r}
library(tidyverse)
library(readxl)
trash_df <- read_excel(
 "202509 Trash Wheel Collection Data.xlsx",
 sheet = "Mr. Trash Wheel",
 range = "A2:N709",
 na = c("NA", ".", "")
) |>
 janitor::clean_names() |>
 mutate(
 table = "mr.trash wheel", 
 sports_balls = as.integer(round(sports_balls)),
 year = as.numeric(year)
) |>
 select (dumpster, month, year, date, table, everything())
```

Importing Trashwheel and modifying Professor Trash Wheel sheet

```{r}
library(tidyverse)
library(readxl)
proff_df <- read_excel(
 "202509 Trash Wheel Collection Data.xlsx",
 sheet = "Professor Trash Wheel",
 range = "A2:M134",
 na = c("NA", ".", "")
) |>
 janitor::clean_names() |>
 mutate(
 table = "professor trash wheel"
 ) |>
select (dumpster, month, year, date, table, everything())
```
Importing Trashwheel and modifying Gwynns Falls Trash Wheel sheet
```{r}
library(tidyverse)
library(readxl)
gwynns_df <- read_excel(
 "202509 Trash Wheel Collection Data.xlsx",
 sheet = "Gwynns Falls Trash Wheel",
 range = "A2:L351",
 na = c("NA", ".", "")
) |>
 janitor::clean_names() |>
 mutate(
 table = "gwynns falls trash wheel"
 ) |>
select (dumpster, month, year, date, table, everything())
```

Combining the tables
```{r}
trash_tidy=
  bind_rows(trash_df, proff_df, gwynns_df)
```
The combined Trash Wheel dataset includes `r nrow(trash_tidy)` observations across the three trash wheels (Mr. Trash Wheel, Professor Trash Wheel, and Gwynns Falls Trash Wheel). Each row corresponds to a dumpster load of trash, with key variables such as the date of collection (`date`), the total weight in tons (`weight_tons`), and counts of specific items like plastic bottles (`plastic_bottles`), cigarette butts (`cigarette_butts`), and sports balls (`sports_balls`). For example, the total weight of trash collected by **Professor Trash Wheel** is `r proff_df |> summarise(total = sum(weight_tons, na.rm = TRUE)) |> pull(total)` tons. In contrast, **Gwynns Falls Trash Wheel** collected `r gwynns_df |> filter(month == "June", year == 2022) |> summarise(total = sum(cigarette_butts, na.rm = TRUE)) |> pull(total)` cigarette butts in June 2022 alone. These summaries highlight both the scale of debris removed and the variation in composition across trash wheels and time.

Question 3

Importing Zip codes csv
```{r}
library(tidyverse)
zips_df=
  read_csv("Zip Codes.csv", na = c("NA", ".", ""))|>
 janitor::clean_names() 
  
```
Importing Zip zori csv
```{r}
library(tidyverse)
zori_df=
  read_csv("Zip_zori_uc_sfrcondomfr_sm_month_NYC.csv", na = c("NA", ".", ""))|>
 janitor::clean_names() |>
select (-region_type, -state_name, -state,-city)|>
  rename(zip_code=region_name,county=county_name)|>
  pivot_longer(
    cols=x2015_01_31:x2024_08_31,
    names_to="date",
    values_to="zori"
  )|>
 mutate (
    county = str_to_lower(county),       
    county = gsub("county", "", county), 
    date = gsub("x","", date),
    county = str_squish(county))
```


